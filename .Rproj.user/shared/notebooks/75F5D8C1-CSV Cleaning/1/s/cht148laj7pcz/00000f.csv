"0","# Step 5: Filter comments authored by influential authors"
"0","influential_author_comments <- filtered_relevant_comments %>%"
"0","  filter(Author %in% influential_authors$Author)"
"0",""
"0","# Step 6: Identify threads with at least one influential author"
"0","influential_threads <- filtered_relevant_threads %>%"
"0","  filter(Unique_ThreadID %in% influential_author_comments$Thread.ID)"
"0",""
"0","# Step 7: Include all comments in threads with influential authors"
"0","all_comments_in_influential_threads <- filtered_relevant_comments %>%"
"0","  filter(Thread.ID %in% influential_threads$Unique_ThreadID)"
"0",""
"0","# Step 8: Save the final datasets"
"0","write.csv(influential_threads, "
"0","          file.path(threads_directory, ""dataset4_threads.csv""), "
"0","          row.names = FALSE)"
"0","write.csv(all_comments_in_influential_threads, "
"0","          file.path(comments_directory, ""dataset4_comments_all.csv""), "
"0","          row.names = FALSE)"
"0","write.csv(influential_author_comments, "
"0","          file.path(comments_directory, ""dataset4_comments_onlyinfluential.csv""), "
"0","          row.names = FALSE)"
"0",""
"0","# Step 9: Print summary statistics"
"0","cat(""Number of threads involving influential authors:"", nrow(influential_threads), ""\n"")"
"1","Number of threads involving influential authors:"
"1"," "
"1","65"
"1"," "
"1","
"
"0","cat(""Number of comments in these threads (all comments):"", nrow(all_comments_in_influential_threads), ""\n"")"
"1","Number of comments in these threads (all comments):"
"1"," "
"1","317"
"1"," "
"1","
"
"0","cat(""Number of comments by influential authors only:"", nrow(influential_author_comments), ""\n"")"
"1","Number of comments by influential authors only:"
"1"," "
"1","149"
"1"," "
"1","
"
